{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\omer9\\\\Desktop\\\\itc\\\\Hakaton\\\\JoinIn\\\\frontend\\\\src\\\\Components\\\\search\\\\Search.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\"; // import { UserContext } from \"../../lib/context/useContext\";\n\nimport Grid from \"@material-ui/core/Grid\"; // import \"../welcome/welcome.css\";\n// import localforage from \"localforage\";\n\nimport EventList from \"./EventList\";\nimport SearchElements from \"./SearchElements.jsx\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport axios from \"axios\"; // import ClipLoader from \"react-spinners/ClipLoader\";\n\nimport \"./home.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: \"100vh\"\n  },\n  media: {\n    height: 140\n  },\n  card: {\n    maxWidth: 345\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #ffffff\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(1, 1, 1),\n    borderRadius: \"4px\",\n    maxWidth: 1000,\n    margin: \"auto\"\n  },\n  formControl: {\n    minWidth: 650\n  },\n  submit: {\n    margin: 4\n  }\n}));\nexport default function Search() {\n  _s();\n\n  const classes = useStyles(); // const user = useContext(UserContext);\n\n  const [advancedSearch, setAdvancedSearch] = useState(false);\n  const [cardList, setCardList] = useState([]);\n  const [searchElements, setSearchElements] = useState({});\n  const [searchByType, setSearchByType] = useState({});\n  const [empty, setEmpty] = useState(false);\n  const [type, setType] = useState(\"%%\");\n  const [status, setStatus] = useState(\"%%\");\n  const [height, setHeight] = useState(\"%%\");\n  const [weight, setWeight] = useState(\"%%\");\n  const [name, setName] = useState(\"%%\");\n  const [loading, setLoading] = useState(false);\n\n  const isAdvancedSearch = () => {\n    setAdvancedSearch(!advancedSearch);\n  };\n\n  const filter = () => {\n    setSearchElements({\n      sType: type,\n      sStatus: status,\n      sHeight: height,\n      sWeight: weight,\n      sName: name\n    });\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    axios.get(`http://localhost:5000/search/search?type=${type}&name=%${name}%&height=%${height}%&status=%${status}%&weight=%${weight}%`).then(function (response) {\n      setTimeout(() => {\n        setLoading(false);\n      }, 1500);\n      setCardList(response.data);\n\n      if (response.data.length === 0) {\n        setEmpty(true);\n      } else {\n        setEmpty(false);\n      }\n    });\n    if (!type) setType(\"%%\");\n    if (!status) setStatus(\"%%\");\n    if (!height) setHeight(\"%%\");\n    if (!weight) setWeight(\"%%\");\n    if (!name) setName(\"%%\");\n  }, [searchElements]);\n\n  const simpleSearch = () => {\n    setSearchByType({\n      sType: type\n    });\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    axios.get(`http://localhost:5000/search/byType?type=${type}`).then(function (response) {\n      setTimeout(() => {\n        setLoading(false);\n      }, 1500);\n      setCardList(response.data);\n\n      if (response.data.length === 0) {\n        setEmpty(true);\n      } else {\n        setEmpty(false);\n      }\n    });\n    if (!type) setType(\"%%\");\n  }, [searchByType]); // const loginOnLoad = async (value) => {\n  // \tconst response = await axios.get(`http://localhost:5000/register/getUser`, {\n  // \t\theaders: { Authorization: value },\n  // \t});\n  // \tconst data = response.data;\n  // \tuser.setUserName(data.first_name);\n  // \tuser.setUserLastName(data.last_name);\n  // \tuser.setEmail(data.email);\n  // \tuser.setIsAdmin(data.is_admin);\n  // \tuser.setUserId(data.userId);\n  // \tif (data) user.setLoggedIn(true);\n  // };\n  // useEffect(() => {\n  // \ttry {\n  // \t\tlocalforage.getItem(\"token\", async (err, value) => {\n  // \t\t\tif (err) {\n  // \t\t\t\treturn console.log(err);\n  // \t\t\t}\n  // \t\t\tif (value) {\n  // \t\t\t\tconst user = await loginOnLoad(value);\n  // \t\t\t\tif (user) {\n  // \t\t\t\t\tconsole.log(user);\n  // \t\t\t\t}\n  // \t\t\t}\n  // \t\t});\n  // \t} catch (e) {\n  // \t\tconsole.log(e);\n  // \t}\n  // }, []);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-con\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      component: \"main\",\n      className: classes.root,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: true,\n        sm: 12,\n        md: 12,\n        className: \"parallax\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title\",\n          children: \"Lets play together\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          style: {\n            marginTop: 100\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.paper,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                className: classes.formControl,\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  htmlFor: \"grouped-select\",\n                  children: \"Find near by gamers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  defaultValue: \"\",\n                  id: \"grouped-select\",\n                  onChange: e => setType(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"\",\n                    children: /*#__PURE__*/_jsxDEV(\"em\", {\n                      children: \"All\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 172,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"dog\",\n                    children: \"play\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"cat\",\n                    children: \"Soccer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"bird\",\n                    children: \"BasketBall\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: \"rabbit\",\n                    children: \"Katan\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                className: classes.submit,\n                onClick: advancedSearch ? filter : simpleSearch,\n                children: \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                onClick: isAdvancedSearch,\n                children: advancedSearch ? \"Search by event\" : \"search by user\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 6\n        }, this), empty && /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"No Results Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list\",\n            children: cardList.map((card, i) => /*#__PURE__*/_jsxDEV(EventList, {\n              card: card,\n              breed: card.breed,\n              color: card.color,\n              type: card.type,\n              name: card.name,\n              status: card.adoptionStatus,\n              img: card.img,\n              weight: card.weight,\n              height: card.height,\n              diet: card.diet,\n              allergies: card.allergies,\n              bio: card.bio,\n              id: card.pet_id\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 9\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Search, \"6X9HSZYsWSCXYKz2wUXCCo986ks=\", false, function () {\n  return [useStyles];\n});\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["C:/Users/omer9/Desktop/itc/Hakaton/JoinIn/frontend/src/Components/search/Search.jsx"],"names":["React","useState","useEffect","useContext","makeStyles","Button","Grid","EventList","SearchElements","InputLabel","MenuItem","FormControl","Select","axios","useStyles","theme","root","height","media","card","maxWidth","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","borderRadius","margin","formControl","minWidth","submit","Search","classes","advancedSearch","setAdvancedSearch","cardList","setCardList","searchElements","setSearchElements","searchByType","setSearchByType","empty","setEmpty","type","setType","status","setStatus","setHeight","weight","setWeight","name","setName","loading","setLoading","isAdvancedSearch","filter","sType","sStatus","sHeight","sWeight","sName","get","then","response","setTimeout","data","length","simpleSearch","marginTop","e","target","value","map","i","breed","color","adoptionStatus","img","diet","allergies","bio","pet_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n// import { UserContext } from \"../../lib/context/useContext\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n// import \"../welcome/welcome.css\";\r\n// import localforage from \"localforage\";\r\nimport EventList from \"./EventList\";\r\nimport SearchElements from \"./SearchElements.jsx\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport axios from \"axios\";\r\n// import ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport \"./home.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\theight: \"100vh\",\r\n\t},\r\n\tmedia: {\r\n\t\theight: 140,\r\n\t},\r\n\tcard: {\r\n\t\tmaxWidth: 345,\r\n\t},\r\n\tpaper: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\tborder: \"2px solid #ffffff\",\r\n\t\tboxShadow: theme.shadows[5],\r\n\t\tpadding: theme.spacing(1, 1, 1),\r\n\t\tborderRadius: \"4px\",\r\n\t\tmaxWidth: 1000,\r\n\t\tmargin: \"auto\",\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 650,\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: 4,\r\n\t},\r\n}));\r\n\r\nexport default function Search() {\r\n\tconst classes = useStyles();\r\n\t// const user = useContext(UserContext);\r\n\tconst [advancedSearch, setAdvancedSearch] = useState(false);\r\n\tconst [cardList, setCardList] = useState([]);\r\n\tconst [searchElements, setSearchElements] = useState({});\r\n\tconst [searchByType, setSearchByType] = useState({});\r\n\tconst [empty, setEmpty] = useState(false);\r\n\tconst [type, setType] = useState(\"%%\");\r\n\tconst [status, setStatus] = useState(\"%%\");\r\n\tconst [height, setHeight] = useState(\"%%\");\r\n\tconst [weight, setWeight] = useState(\"%%\");\r\n\tconst [name, setName] = useState(\"%%\");\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst isAdvancedSearch = () => {\r\n\t\tsetAdvancedSearch(!advancedSearch);\r\n\t};\r\n\r\n\tconst filter = () => {\r\n\t\tsetSearchElements({\r\n\t\t\tsType: type,\r\n\t\t\tsStatus: status,\r\n\t\t\tsHeight: height,\r\n\t\t\tsWeight: weight,\r\n\t\t\tsName: name,\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\taxios\r\n\t\t\t.get(\r\n\t\t\t\t`http://localhost:5000/search/search?type=${type}&name=%${name}%&height=%${height}%&status=%${status}%&weight=%${weight}%`\r\n\t\t\t)\r\n\t\t\t.then(function (response) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}, 1500);\r\n\t\t\t\tsetCardList(response.data);\r\n\t\t\t\tif (response.data.length === 0) {\r\n\t\t\t\t\tsetEmpty(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetEmpty(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tif (!type) setType(\"%%\");\r\n\t\tif (!status) setStatus(\"%%\");\r\n\t\tif (!height) setHeight(\"%%\");\r\n\t\tif (!weight) setWeight(\"%%\");\r\n\t\tif (!name) setName(\"%%\");\r\n\t}, [searchElements]);\r\n\r\n\tconst simpleSearch = () => {\r\n\t\tsetSearchByType({\r\n\t\t\tsType: type,\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\taxios\r\n\t\t\t.get(`http://localhost:5000/search/byType?type=${type}`)\r\n\t\t\t.then(function (response) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}, 1500);\r\n\t\t\t\tsetCardList(response.data);\r\n\t\t\t\tif (response.data.length === 0) {\r\n\t\t\t\t\tsetEmpty(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetEmpty(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tif (!type) setType(\"%%\");\r\n\t}, [searchByType]);\r\n\r\n\t// const loginOnLoad = async (value) => {\r\n\t// \tconst response = await axios.get(`http://localhost:5000/register/getUser`, {\r\n\t// \t\theaders: { Authorization: value },\r\n\t// \t});\r\n\t// \tconst data = response.data;\r\n\t// \tuser.setUserName(data.first_name);\r\n\t// \tuser.setUserLastName(data.last_name);\r\n\t// \tuser.setEmail(data.email);\r\n\t// \tuser.setIsAdmin(data.is_admin);\r\n\t// \tuser.setUserId(data.userId);\r\n\t// \tif (data) user.setLoggedIn(true);\r\n\t// };\r\n\r\n\t// useEffect(() => {\r\n\t// \ttry {\r\n\t// \t\tlocalforage.getItem(\"token\", async (err, value) => {\r\n\t// \t\t\tif (err) {\r\n\t// \t\t\t\treturn console.log(err);\r\n\t// \t\t\t}\r\n\t// \t\t\tif (value) {\r\n\t// \t\t\t\tconst user = await loginOnLoad(value);\r\n\t// \t\t\t\tif (user) {\r\n\t// \t\t\t\t\tconsole.log(user);\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}\r\n\t// \t\t});\r\n\t// \t} catch (e) {\r\n\t// \t\tconsole.log(e);\r\n\t// \t}\r\n\t// }, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"search-con\">\r\n\t\t\t<Grid container component=\"main\" className={classes.root}>\r\n\t\t\t\t<Grid item xs={true} sm={12} md={12} className=\"parallax\">\r\n\t\t\t\t\t\t<div className=\"title\">Lets play together</div>\r\n\t\t\t\t\t<form style={{ marginTop: 100 }}>\r\n\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<FormControl className={classes.formControl}>\r\n\t\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"grouped-select\">\r\n\t\t\t\t\t\t\t\t\t\tFind near by gamers\r\n\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue=\"\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"grouped-select\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setType(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t<em>All</em>\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"dog\"}>play</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"cat\"}>Soccer</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"bird\"}>BasketBall</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"rabbit\"}>Katan</MenuItem>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t\t\t\t\tonClick={advancedSearch ? filter : simpleSearch}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={isAdvancedSearch}>\r\n\t\t\t\t\t\t\t\t\t{advancedSearch ? \"Search by event\" : \"search by user\"}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t{/* {loading && (\r\n\t\t\t\t\t\t<ClipLoader color=\"white\" loading={true} css=\"\" size={160} />\r\n\t\t\t\t\t)} */}\r\n\t\t\t\t\t{empty && <h2>No Results Found</h2>}\r\n\t\t\t\t\t<div className=\"list-wrap\">\r\n\t\t\t\t\t\t<div className=\"list\">\r\n\t\t\t\t\t\t\t{cardList.map((card, i) => (\r\n\t\t\t\t\t\t\t\t<EventList\r\n\t\t\t\t\t\t\t\t\tcard={card}\r\n\t\t\t\t\t\t\t\t\tbreed={card.breed}\r\n\t\t\t\t\t\t\t\t\tcolor={card.color}\r\n\t\t\t\t\t\t\t\t\ttype={card.type}\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\tname={card.name}\r\n\t\t\t\t\t\t\t\t\tstatus={card.adoptionStatus}\r\n\t\t\t\t\t\t\t\t\timg={card.img}\r\n\t\t\t\t\t\t\t\t\tweight={card.weight}\r\n\t\t\t\t\t\t\t\t\theight={card.height}\r\n\t\t\t\t\t\t\t\t\tdiet={card.diet}\r\n\t\t\t\t\t\t\t\t\tallergies={card.allergies}\r\n\t\t\t\t\t\t\t\t\tbio={card.bio}\r\n\t\t\t\t\t\t\t\t\tid={card.pet_id}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}